namespace org.example.ap2.mandate@1.1.1
import org.accordproject.money@0.3.0.{MonetaryAmount} from https://models.accordproject.org/money@0.3.0.cto
import org.accordproject.time@0.3.0.{Duration} from https://models.accordproject.org/time@0.3.0.cto
import org.accordproject.party@0.2.0.{Party} from https://models.accordproject.org/accordproject/party@0.2.0.cto

concept Address {
    o String line1
    o String city
    o String state
    o String country
}

concept OrderLine {
    o String sku
    o Integer quantity
    o Double price
}

concept Order {
    o DateTime createdAt
    o OrderLine[] orderLines
}

concept PedUri identified by uri{
  o String uri
}

participant Merchant identified by idKey {
  o String idKey
  o PedUri pedUri optional
}

concept AP2MandateData {
  o String mandateId
  o Merchant payee
}

@template
concept TemplateData {
    o String name
    o Address address
    o Integer age optional
    o MonetaryAmount salary
    o String[] favoriteColors
    o AP2MandateData mandate
    o Order order
}